(this.webpackJsonpDudu=this.webpackJsonpDudu||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/Elephant Friend (Greeting).18bbe5bf.png"},29:function(e,t,a){e.exports=a(69)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(25),o=a.n(l),r=(a(34),a(2)),u=a(9),i=(a(35),a(1)),s=(a(36),function(e){var t=e.fetchData;return c.a.createElement("section",{className:"dudu-layout"},t.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("div",{className:"dudu-conents"},c.a.createElement("div",{className:"dudu-conents-header"},c.a.createElement("img",{src:e.account.avatar,alt:""}),c.a.createElement("div",{className:"dudu-conents-header-username"},c.a.createElement("div",null,c.a.createElement(r.b,{to:"/account/".concat(e.account.id,"/statuses")},e.account.display_name)),c.a.createElement("div",{className:"dudu-conents-header-at"},e.account.acct))),c.a.createElement("div",null,"\u561f\u6587"),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.content}}),c.a.createElement("a",{href:e.url},"\u561f\u6587\u94fe\u63a5"),c.a.createElement("div",null,e.created_at),c.a.createElement("div",null,"\u56de\u590d: ",e.replies_count),c.a.createElement("div",null,"\u6536\u85cf: ",e.favourites_count)))})))}),m=a(5),d=a.n(m),E=localStorage.getItem("dudu_settings_url"),v=d.a.create({baseURL:E,headers:{Authorization:"Bearer ".concat(localStorage.getItem("dudu_access_token"))}});v.interceptors.response.use((function(e){return e.data}),(function(e){console.log(e,"\u94fe\u63a5\u51fa\u73b0\u9519\u8bef\uff0c\u9700\u8981\u767b\u5f55")}));var f=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!0),r=Object(i.a)(o,2),u=r[0],m=r[1];return Object(n.useEffect)((function(){d.a.get("".concat("https://mastodon.social","/api/v1/timelines/public")).then((function(e){l(e.data),m(!1)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement(c.a.Fragment,null,u?c.a.createElement("div",{className:"loading"},"Loading ..."):c.a.createElement(s,{fetchData:a}))},g=function(){var e=Object(u.e)();return c.a.createElement("section",{className:"public"},c.a.createElement("button",{className:"goback-button",onClick:function(){return e.goBack()}},"\u8fd4\u56de"),c.a.createElement(f,null))};var b=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(g,null))};a(59);var h=function(e){var t=Object(u.e)(),a=Object(n.useState)([{account:{}}]),l=Object(i.a)(a,2),o=l[0],r=l[1],m=e.match.params.id;Object(n.useEffect)((function(){d.a.get("".concat("https://mastodon.social","/api/v1/accounts/").concat(m,"/statuses")).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[m]);var E=o[0].account;return c.a.createElement("section",{className:"accounts-entity"},c.a.createElement("button",{className:"goback-button",onClick:function(){return t.goBack()}},"\u8fd4\u56de"),c.a.createElement("div",{className:"accounts-entity-header-image"},c.a.createElement("img",{src:E.header,alt:""})),c.a.createElement("section",{className:"accounts-entity-content"},c.a.createElement("div",{className:"entity-avatar"},c.a.createElement("img",{src:E.avatar,alt:""})),c.a.createElement("div",{className:"accounts-entity-introduction"},c.a.createElement("div",null,"\u540d\u5b57\uff1a",E.display_name),"\u4e2a\u4eba\u7b80\u4ecb\uff1a",c.a.createElement("div",{dangerouslySetInnerHTML:{__html:E.note}}),c.a.createElement("div",null,"\u52a0\u5165\u4e8e\uff1a ",E.created_at),c.a.createElement("div",null),c.a.createElement("div",null,"\u5173\u6ce8\u8005\uff1a",E.followers_count),c.a.createElement("div",null,"\u6b63\u5728\u5173\u6ce8\uff1a ",E.following_count),c.a.createElement("div",null,"\u561f\u6587\uff1a ",E.statuses_count),c.a.createElement("div",null,"\u6700\u540e\u66f4\u65b0\u65f6\u95f4\uff1a ",E.last_status_at))),c.a.createElement("section",null,c.a.createElement(s,{fetchData:o})))};var p=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){d.a.get("https://mastodon.social/api/v1/accounts/verify_credentials",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("dudu_access_token"))}}).then((function(e){l(e.data)})).catch((function(e){console.log(e)}))}),[]),console.log(a),c.a.createElement("section",{style:{margin:"1rem",color:"white"}},c.a.createElement("div",null,"NAME"),c.a.createElement("div",null,a.display_name),c.a.createElement("div",null,"\u5934\u50cf"),c.a.createElement("img",{src:a.avatar_static,alt:""}),c.a.createElement("div",null,"\u80cc\u666f\u56fe"),c.a.createElement("img",{src:a.header_static,alt:""}),c.a.createElement("div",null,"\u6700\u540e\u66f4\u65b0\u65f6\u95f4"),c.a.createElement("div",null,a.last_status_at),c.a.createElement("div",null,"\u5173\u6ce8\u4eba"),c.a.createElement("div",null,a.followers_count),c.a.createElement("div",null,"\u5173\u6ce8"),c.a.createElement("div",null,a.following_count),c.a.createElement("div",null,"\u72b6\u6001\u6570"),c.a.createElement("div",null,a.statuses_count))};var _=function(e){var t=e.featchData;return c.a.createElement(c.a.Fragment,null,t&&t.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("section",{className:"timeline-status"},c.a.createElement("div",null,e.created_at),c.a.createElement("div",{className:"timeline-status-avatar"},c.a.createElement("img",{src:e.account.avatar,alt:""})),c.a.createElement(r.b,{to:"/account/".concat(e.account.id,"/statuses")},e.account.display_name,"@",e.account.acct),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.content}}),c.a.createElement("section",{className:"timeline-status-image-item"},e.media_attachments&&e.media_attachments.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("img",{src:e.url,alt:" "}))}))),e.reblog?c.a.createElement("div",null,"\u8f6c\u63a8\u4e86"):null,c.a.createElement("section",{className:"timeline-status-image-item"},e.reblog&&e.reblog.media_attachments.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("img",{src:e.url,alt:""}))}))),c.a.createElement("div",null,"Like: ",e.favourites_count," \xb7 \u56de\u590d\uff1a ",e.replies_count," \xb7 \u8f6c\u53d1\uff1a ",e.reblogs_count," \xb7")))})))};a(60);var O=function(){var e=Object(u.e)(),t=Object(n.useState)([{account:{},media_attachments:[]}]),a=Object(i.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)(!0),s=Object(i.a)(r,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){v.get("/api/v1/favourites").then((function(e){o(e),d(!1)})).catch((function(e){console.log(e)}))}),[]),console.log(l),c.a.createElement("section",{className:"favourites"},c.a.createElement("button",{className:"goback-button",onClick:function(){return e.goBack()}},"\u8fd4\u56de"),c.a.createElement("div",null,"\u559c\u6b22"),m?c.a.createElement("div",{className:"loading"},"Loading..."):c.a.createElement(_,{featchData:l}))};var j=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null))};a(61);var N=function(){return c.a.createElement("header",{className:"header"},c.a.createElement(r.b,{to:"/home"},"\u9996\u9875"),c.a.createElement(r.b,{to:"/favourites"},"\u559c\u6b22"),c.a.createElement(r.b,{to:"/bookmarks"},"\u6536\u85cf"),c.a.createElement(r.b,{to:"/conversations"},"\u79c1\u4fe1"),c.a.createElement(r.b,{to:"/notifications"},"\u901a\u77e5"),c.a.createElement(r.b,{to:"/public"},"\u516c\u5f00\u65f6\u95f4\u8f74"))};a(62),a(63);var k=function(e){var t=e.status,a=Object(n.useState)([{account:{},media_attachments:[]}]),l=Object(i.a)(a,2),o=l[0],r=l[1],u=Object(n.useState)(!0),s=Object(i.a)(u,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){v.get("/api/v1/timelines/home").then((function(e){r(e),d(!1)}))}),[t]),console.log(o),c.a.createElement("section",{className:"components-main"},c.a.createElement("div",null,"\u4e3b\u9875\u65f6\u95f4\u7ebf"),m?c.a.createElement("div",{className:"loading"},"Loading..."):c.a.createElement(_,{featchData:o}))};var S=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),r=Object(i.a)(o,2),u=r[0],s=r[1],m=Object(n.useState)(!1),E=Object(i.a)(m,2),v=E[0],f=E[1],g=function(e){if(""===e)return s("\u8bf7\u8f93\u5165\u561f\u6587");d.a.post("".concat(localStorage.getItem("dudu_settings_url"),"/api/v1/statuses"),{status:e,media_ids:null,poll:null},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("dudu_access_token"))}}).then((function(){f(!0),s("\u53d1\u9001\u6210\u529f")})).catch((function(){s("\u53d1\u9001\u5931\u8d25")}))};return c.a.createElement("section",{className:"new-statuses"},c.a.createElement("div",null,"\u65b0\u561f\u6587"),c.a.createElement("div",null,c.a.createElement("textarea",{value:a,onChange:function(e){return l(e.target.value)}})),c.a.createElement("button",{type:"button",onClick:function(){g(a),l("")}},"\u53d1\u5e03\u561f\u6587"),c.a.createElement((function(){return c.a.createElement("div",null,u)}),null),c.a.createElement(k,{status:v}))};var y=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(N,null),c.a.createElement(S,null))},w=(a(64),function(e){var t=e.featchData;return c.a.createElement(c.a.Fragment,null,t&&t.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("div",{className:"conversations-status"},console.log(e.last_status),c.a.createElement("p",null,e.last_status.created_at),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.last_status.content}})),e.accounts&&e.accounts.map((function(e,t){return c.a.createElement("div",{key:t},e.acct)})))})))});var I=function(){var e=Object(u.e)(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)([{last_status:{}}]),s=Object(i.a)(r,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){v.get("/api/v1/conversations").then((function(e){d(e),o(!1)}))}),[]),c.a.createElement("section",{className:"conversations"},c.a.createElement("button",{className:"goback-button",onClick:function(){return e.goBack()}},"\u8fd4\u56de"),c.a.createElement("div",null,"\u79c1\u4fe1"),l?c.a.createElement("div",{className:"loading"},"Loading..."):c.a.createElement(w,{featchData:m}))};var T=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(I,null))};a(65);var C=function(){var e=Object(u.e)(),t=Object(n.useState)([{status:{},type:""}]),a=Object(i.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)(!0),s=Object(i.a)(r,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){v.get("/api/v1/notifications").then((function(e){o(e),d(!1)}))}),[]),console.log(l),c.a.createElement("section",{className:"notifications"},c.a.createElement("button",{className:"goback-button",onClick:function(){return e.goBack()}},"\u8fd4\u56de"),c.a.createElement("div",null,"\u901a\u77e5"),m?c.a.createElement("div",{className:"loading"},"Loading..."):c.a.createElement("div",null,l&&l.map((function(e,t){return c.a.createElement("div",{className:"notifications-status",key:t},c.a.createElement("div",null,e.created_at),e.status&&c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.status.content}}),e.account&&e.account.acct,"follow"===e.type&&c.a.createElement("div",null,"\u5173\u6ce8\u4e86\u4f60"))}))))};var D=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(C,null))};a(66);var L=function(){var e=Object(n.useState)([{account:{},media_attachments:[]}]),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!0),r=Object(i.a)(o,2),s=r[0],m=r[1],d=Object(u.e)();return Object(n.useEffect)((function(){v.get("/api/v1/bookmarks").then((function(e){l(e),m(!1)})).catch((function(e){console.log(e)}))}),[]),console.log(a),c.a.createElement("section",{className:"bookmarks"},c.a.createElement("button",{className:"goback-button",onClick:function(){return d.goBack()}},"\u8fd4\u56de"),c.a.createElement("div",null,"\u6536\u85cf\u5939"),s?c.a.createElement("div",{className:"loading"},"Loading..."):c.a.createElement(_,{featchData:a}))};var F=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(L,null))},A=a(28),M=a.n(A);a(67);var x=function(){return c.a.createElement("section",{className:"layout"},c.a.createElement("div",{style:{fontSize:"2.5rem",textAlign:"center",margin:"3rem 0"}},"\u6b22\u8fce\u6765\u5230 DUDU !"),c.a.createElement("section",{className:"welcome"},c.a.createElement("section",{className:"welcome-image"},c.a.createElement("img",{src:M.a,alt:""})),c.a.createElement("section",{className:"welcome-inner"},c.a.createElement("div",{className:"welcome-explore"},c.a.createElement("div",{className:"welcome-inner-title"},"\u770b\u4e00\u770b\u73b0\u5728\u53d1\u751f\u4e86\u4ec0\u4e48"),c.a.createElement(r.b,{to:"public"},c.a.createElement("button",null,c.a.createElement("div",null,"\u67e5\u770b\u516c\u5f00\u7684\u4fe1\u606f\u6d41")))),c.a.createElement("div",{className:"welcome-login-registered"},c.a.createElement("div",{className:"welcome-inner-title"},"\u767b\u5f55 / \u6ce8\u518c"),c.a.createElement(r.b,{to:"login"},c.a.createElement("button",null,"\u767b\u5f55 / \u6ce8\u518c"))))))};var B=function(){var e=Object(u.e)();return localStorage.getItem("dudu_access_token")&&e.push("/home"),c.a.createElement(c.a.Fragment,null,c.a.createElement(x,null))},z=(a(68),"S4kIIT0uzSdOi9naKS6FwiTM6j2MoF0OuZ6eT4H4o8c");var H=[{path:"/",exact:!0,component:B},{path:"/public",component:b},{path:"/login",component:function(){var e=Object(n.useState)("mastodon.social"),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),r=Object(i.a)(o,2),u=r[0],s=r[1],m="https://".concat(a);console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CLIENT_ID:"S4kIIT0uzSdOi9naKS6FwiTM6j2MoF0OuZ6eT4H4o8c",REACT_APP_CLIENT_SECRET:"NQa6TJXlDbQ_oMjzjsHbYJxA7gqgxpGm5YWLdrFMiC0",REACT_APP_REDIRECT_URI:"https://dudu.disism.com/login"})),Object(n.useEffect)((function(){var e=window.location.search.match(/\?code/);if(e)return E(e)}));var E=function(e){var t=window.location.search.match(/\?code=(.*)/)[1];d.a.post("".concat(m,"/oauth/token"),{client_id:z,client_secret:"NQa6TJXlDbQ_oMjzjsHbYJxA7gqgxpGm5YWLdrFMiC0",redirect_uri:"https://dudu.disism.com/login",grant_type:"authorization_code",code:t,scope:"read write follow push"}).then((function(e){localStorage.setItem("dudu_access_token",e.data.access_token),v()})).catch((function(e){console.log("\u83b7\u53d6\u4ee4\u724c\u5931\u8d25:".concat(e))}))},v=function(){d.a.get("".concat(m,"/api/v1/accounts/verify_credentials"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("dudu_access_token"))}}).then((function(e){return s(e.data.username),window.location.href="/home"})).catch((function(e){console.log(e)}))};return console.log(u),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"LOGIN",c.a.createElement("section",{className:"login"},c.a.createElement("div",{className:"input-domain"},c.a.createElement("div",null,"\u8f93\u5165\u4f60\u60f3\u767b\u5f55\u7684\u5b9e\u4f8b\u5730\u5740"),c.a.createElement("input",{type:"input",value:a,onChange:function(e){return l(e.target.value)}}),c.a.createElement("button",{type:"button",onClick:function(){localStorage.setItem("dudu_settings_url",m);var e=["".concat(m,"/oauth/authorize?client_id=").concat(z),"scope=read+write+follow+push","redirect_uri=".concat("https://dudu.disism.com/login"),"response_type=code"].join("&");window.location.href=e}},"LOGIN"),u&&c.a.createElement("div",null,"\u6b22\u8fce\u60a8: ",u)))))}},{path:"/accounts",component:p},{path:"/home",component:y},{path:"/favourites",component:j},{path:"/bookmarks",component:F},{path:"/conversations",component:T},{path:"/notifications",component:D},{path:"/account/:id/statuses",component:h}];var R=function(){return c.a.createElement(r.a,null,H.map((function(e,t){var a=e.path,n=e.exact,l=e.routes;return c.a.createElement(u.a,{key:t,path:a,exact:n,render:function(t){return c.a.createElement(e.component,Object.assign({routes:l},t))}})})))};var P=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(R,null))};o.a.render(c.a.createElement(P,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.ff398055.chunk.js.map